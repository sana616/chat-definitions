# 📘 01_カード明細読み取り仕様｜v1.1.4

## 🔄 変更点（2025/06/16）

### ✅ 利用者名の検出処理（改訂）

- `index0` に `"○○ 様"` が含まれる行を「利用者識別行」として扱う  
- 利用者名が **正規表現 `真\s*敬志` に一致する場合のみ**、その後の明細を読み込む  
- 他の利用者名が現れた場合、その行以降すべてスキップ  
- 利用者名行自体は出力対象に含めない  

---

### ✅ 明細行として読み込む条件（すべて満たす）

1. `index0` が `YYYY/MM/DD` 形式である（例：2024/07/01）  
2. `index2`（借方金額）が空欄・空白でない  
3. 直前に出現した利用者名が `真\s*敬志` に一致している  

---

### ✅ カラム構成の明示的定義：

| index | 項目名     | 備考                     |
|--------|------------|--------------------------|
| 0      | 日付       | `YYYY/MM/DD` 形式        |
| 1      | 摘要補足   | 請求先など               |
| 2      | 借方金額   | 支出金額                 |
| 3〜7   | （無視）   | 使用しない               |

---

### 📌 背景と目的

- 明細CSV内に複数利用者のデータが混在していることに対応  
- 特定の利用者（真 敬志）のみを対象とするフィルタを導入